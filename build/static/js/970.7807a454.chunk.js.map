{"version":3,"file":"static/js/970.7807a454.chunk.js","mappings":"sQA2IA,WAAeA,EAAAA,EAAAA,KATS,SAAAC,GAAK,MAAK,CAChCC,WAAYD,EAAME,MAAMC,WACxBC,oBAAqBJ,EAAME,MAAME,oBACjCC,mBAAoBL,EAAME,MAAMG,mBAChCC,KAAMN,EAAME,MAAMK,aAClBC,MAAOR,EAAME,MAAMM,MACnBC,UAAWT,EAAME,MAAMQ,OAGe,CACtCC,WAAAA,EAAAA,GACAC,iBAAAA,EAAAA,GACAC,YAAAA,EAAAA,GACAC,UAAAA,EAAAA,GACAC,YAAAA,EAAAA,IALF,EAzHsB,SAAC,GAYO,IAXLJ,EAWI,EAXJA,WACAC,EAUI,EAVJA,iBACAX,EASI,EATJA,WACAG,EAQI,EARJA,oBACAC,EAOI,EAPJA,mBACAC,EAMI,EANJA,KACAU,EAKI,EALJA,MACAR,EAII,EAJJA,MACAM,EAGI,EAHJA,UACAL,EAEI,EAFJA,UACAM,EACI,EADJA,aAGvBE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQ,mCAAG,WAAOC,GAAP,wEACXC,EAASC,SAASC,eAAeH,KAC3BC,EAAOG,eAAe,CAACC,MAAO,SAAUC,SAAU,WAF7C,2CAAH,sDAOd,OAHIhB,GACFS,EAAST,GAAWiB,MAAK,kBAAMZ,OAE1B,kBAAMC,OACZ,CAACN,IAEJ,IAAMkB,EAAc,SAACC,EAAMC,GACzBlB,GAAW,kBACNL,GADK,cAEPsB,EAAOC,MAQZ,OACE,UAAC,IAAD,CACEC,aAAc,gBACdC,aAAc,+DACdC,QAAShB,EAAMiB,OAAOC,GACtBC,YAAa,UACbC,aAAc,QACdC,WAAY,GANd,WAQE,SAAC,IAAD,CAAeC,MAAM,qJAA6BC,QAAQ,GAAGjC,KAAMA,EAAMsB,KAAK,sBAA9E,UACE,SAAC,IAAD,CACEY,OAAQb,EACRC,KAAK,sBACLU,MAAM,qJACNG,IAAKnC,GAAQA,EAAKF,oBAClBsC,QAAStC,EACTuC,UAAU,EACVnC,MAAOA,OAGX,SAAC,IAAD,CACE8B,MAAM,kFACNC,QAAQ,6OACRjC,KAAMA,EAAMsB,KAAK,aAHnB,UAKE,SAAC,IAAD,CACEY,OAAQb,EACRC,KAAK,aACLC,MAAOvB,GAAQA,EAAKsC,WACpBF,QAASzC,EACTO,MAAOA,OAGX,SAAC,IAAD,CAAe8B,MAAM,+DAAaC,QAAQ,GAAGjC,KAAMA,EAAMsB,KAAK,eAA9D,UACE,SAAC,IAAD,CACEY,OAAQb,EACRC,KAAK,eACLU,MAAM,+DACNG,IAAKnC,GAAQA,EAAKuC,aAClBH,QAASrC,EACTsC,UAAU,EACVnC,MAAOA,OAIX,SAAC,IAAD,CACE8B,MAAM,4OACNC,QAAQ,GACRjC,KAAMA,EAAMsB,KAAK,uBAHnB,UAKE,SAAC,IAAD,CACEkB,SAAU,gBACVxC,KAAMA,EACNkC,OAzDgB,SAAAO,GACtBnC,EAAiBmC,EAAOzC,EAAK4B,KAyDvBN,KAAK,uBACLoB,KAAK,OACLxC,MAAOA,EACPyC,QAAS,gBACTpB,MAAOvB,GACLA,EAAK4C,sBACL5C,EAAK4C,qBAAqBC,OAAS,GAAK7C,EAAK4C","sources":["components/AccountTours/Components/Accommodation.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport SingleWrapper from '../Wrappers/SingleWrapper'\nimport Input from '../FormFields/Input'\nimport ObjectFileInput from '../FormFields/ObjectFileInput'\nimport SelectInput from '../FormFields/SelectInput'\n\nimport { connect } from 'react-redux'\nimport {\n  updateTour,\n  setPropertyImage,\n  addActivity,\n  deleteKey,\n  clearErrors,\n} from '../../../redux/actions/toursActions'\nimport ToursFormLayout from \"../../../layouts/account/ToursFormLayout\";\nimport MultipleFileInput from \"../FormFields/MultipleFileInput\";\n\n\nconst Accommodation = ({\n                         updateTour,\n                         setPropertyImage,\n                         toursTypes,\n                         tour_property_types,\n                         tour_accomodations,\n                         tour,\n                         match,\n                         error,\n                         deleteKey,\n                         field_key,\n                         clearErrors,\n                       }) => {\n\n  useEffect(() => {\n    const scrollTo = async (el) => {\n      let anchor = document.getElementById(el)\n      anchor && anchor.scrollIntoView({block: \"center\", behavior: \"smooth\"})\n    }\n    if (field_key) {\n      scrollTo(field_key).then(() => deleteKey())\n    }\n    return () => clearErrors()\n  }, [field_key])\n\n  const handleInput = (name, value) => {\n    updateTour({\n      ...tour,\n      [name]: value,\n    })\n  }\n\n  const handleImageLoad = image => {\n    setPropertyImage(image, tour.id)\n  }\n\n  return (\n    <ToursFormLayout\n      section_slug={'accommodation'}\n      section_name={'Проживание'}\n      tour_id={match.params.id}\n      forward_url={'details'}\n      backward_url={'route'}\n      submit_url={''}\n    >\n      <SingleWrapper label='Где планируется проживание' comment='' tour={tour} name='tour_property_types'>\n        <SelectInput\n          action={handleInput}\n          name='tour_property_types'\n          label='Где планируется проживание'\n          val={tour && tour.tour_property_types}\n          options={tour_property_types}\n          multiple={true}\n          error={error}\n        />\n      </SingleWrapper>\n      <SingleWrapper\n        label='Название отеля'\n        comment='Вводите, если уверены в 100% гарантии размещения '\n        tour={tour} name='hotel_name'\n      >\n        <Input\n          action={handleInput}\n          name='hotel_name'\n          value={tour && tour.hotel_name}\n          options={toursTypes}\n          error={error}\n        />\n      </SingleWrapper>\n      <SingleWrapper label='Размещение' comment='' tour={tour} name='accomodation'>\n        <SelectInput\n          action={handleInput}\n          name='accomodation'\n          label='Размещение'\n          val={tour && tour.accomodation}\n          options={tour_accomodations}\n          multiple={true}\n          error={error}\n        />\n      </SingleWrapper>\n\n      <SingleWrapper\n        label='Добавить фото мест проживания в путешествии'\n        comment=''\n        tour={tour} name='tour_property_images'\n      >\n        <MultipleFileInput\n          position={'accommodation'}\n          tour={tour}\n          action={handleImageLoad}\n          name='tour_property_images'\n          type='file'\n          error={error}\n          section={'accommodation'}\n          value={tour &&\n            tour.tour_property_images &&\n            tour.tour_property_images.length > 0 && tour.tour_property_images}\n        />\n        {/*<ObjectFileInput*/}\n        {/*  position={'accommodation'}*/}\n        {/*  tour={tour}*/}\n        {/*  action={handleImageLoad}*/}\n        {/*  name='tour_property_images'*/}\n        {/*  value={tour && tour.tour_property_images}*/}\n        {/*  type='file'*/}\n        {/*  error={error}*/}\n        {/*/>*/}\n      </SingleWrapper>\n    </ToursFormLayout>\n  )\n}\n\nconst mapStateToProps = state => ({\n  toursTypes: state.tours.tour_types,\n  tour_property_types: state.tours.tour_property_types,\n  tour_accomodations: state.tours.tour_accomodations,\n  tour: state.tours.current_tour,\n  error: state.tours.error,\n  field_key: state.tours.key,\n})\n\nexport default connect(mapStateToProps, {\n  updateTour,\n  setPropertyImage,\n  addActivity,\n  deleteKey,\n  clearErrors,\n})(Accommodation)\n"],"names":["connect","state","toursTypes","tours","tour_types","tour_property_types","tour_accomodations","tour","current_tour","error","field_key","key","updateTour","setPropertyImage","addActivity","deleteKey","clearErrors","match","useEffect","scrollTo","el","anchor","document","getElementById","scrollIntoView","block","behavior","then","handleInput","name","value","section_slug","section_name","tour_id","params","id","forward_url","backward_url","submit_url","label","comment","action","val","options","multiple","hotel_name","accomodation","position","image","type","section","tour_property_images","length"],"sourceRoot":""}