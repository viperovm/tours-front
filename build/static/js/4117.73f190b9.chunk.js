"use strict";(self.webpackChunkyour_app=self.webpackChunkyour_app||[]).push([[4117],{8537:function(e,t,n){n(2791);t.Z=n.p+"static/media/trash.6d1ed156c7e05e39c7b941f18eef2919.svg"},6823:function(e,t,n){var i=n(5861),r=n(885),a=n(7757),s=n.n(a),l=n(2791),o=n(3239),u=n(4554),c=n(8537),d=n(7258),p=n(7880),f=n(364),m=n(8324),g=n(7746),x=n(5198),h=n(184);t.Z=(0,f.$j)(null,{deleteTourImage:d.zr,deleteTourWallpaper:d.Ao,delete_avatar:p.TQ,deletePropertyImage:d.N8,setTourImages:d._$,setPropertyImage:d.n4,deleteDayImage:d.fP,setDayImage:d.t_})((function(e){var t=e.tour,n=e.action,a=e.name,d=e.value,p=void 0===d?[]:d,f=e.max,v=e.required,j=(e.position,e.deleteTourImage),b=e.setTourImages,y=(e.deleteTourWallpaper,e.delete_avatar,e.deletePropertyImage),k=(e.delete_action,e.error),N=e.section,Z=e.setPropertyImage,_=e.deleteDayImage,S=e.day_id,I=e.setDayImage,C=(0,l.useState)([]),T=(0,r.Z)(C,2),w=(T[0],T[1],(0,l.useState)(!0)),A=(0,r.Z)(w,2),F=A[0],O=A[1],E=(0,l.useState)(null),M=(0,r.Z)(E,2),P=M[0],R=M[1],D=(0,l.useState)([]),H=(0,r.Z)(D,2),q=(H[0],H[1],(0,l.useState)(!1)),W=(0,r.Z)(q,2),$=W[0],z=W[1],Q=(0,l.useState)(!1),G=(0,r.Z)(Q,2),B=G[0],J=G[1],K=(0,l.useState)(!1),L=(0,r.Z)(K,2),U=L[0],V=L[1],X=(0,l.useState)(""),Y=(0,r.Z)(X,2),ee=Y[0],te=Y[1],ne=(0,l.useState)([]),ie=(0,r.Z)(ne,2),re=ie[0],ae=ie[1];(0,l.useEffect)((function(){J(!0);var e=setTimeout((function(){return J(!1)}),500);return function(){return clearTimeout(e)}}),[]),(0,l.useEffect)((function(){U&&V(!1)}),[U]),(0,l.useEffect)((function(){B&&p&&p.length>0&&J(!1)}),[B,p]);var se=(0,l.useRef)(null);(0,l.useEffect)((function(){if(k&&(0,g.Z)(k)&&k.detail){var e=[];e.push(k.detail),ae(e)}else k[a]&&ae(k[a])}),[k,a]),(0,l.useEffect)((function(){f&&p.length>=f&&O(!1)}),[f,p]);var le=function(e){te(e),z(!0)},oe=function(e){"gallery"===N?b(e):"accommodation"===N?Z(e):"days"===N&&(I(e,S),n())},ue=function(){se.current.click()},ce=function(){var e=(0,i.Z)(s().mark((function e(n){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(!0),i=function(e){(0,x.AI)(e,t.id,N).then((function(e){return oe(e)}))},n.target.files&&n.target.files.length>0&&(Object.values(n.target.files).map((function(e){console.log(e),i(e)})),ae([]));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[$&&(0,h.jsx)(m.Z,{status:"danger",title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c?",text:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430.",button:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",button2:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",action:function(){return z(!1)},second_action:function(){return"gallery"===N?j(ee,t.id):"accommodation"===N?y(ee,t.id):"days"===N&&(_(S,ee.id),n()),z(!1),void V(!0)}}),!U&&(0,h.jsxs)("div",{className:"fake-file-input-component",id:a,children:[(0,h.jsx)("input",{multiple:!0,name:a,required:v,type:"file",onChange:ce,ref:se,accept:"image/png, image/jpeg, image/jpg"}),(0,h.jsxs)("div",{className:"fake-file-input-wrapper",children:[(0,h.jsxs)("div",{className:"fake-file-input file-input ".concat(F?"file-input-active":"file-input-inactive"),onClick:ue,children:[(0,h.jsx)("div",{className:"camera-image"}),(0,h.jsx)("div",{className:"fake-file-input-text",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0444\u043e\u0442\u043e"})]}),B&&(0,h.jsx)("div",{className:"fake-file-input loader-spinner",onClick:ue,children:(0,h.jsx)(u.Z,{sx:{display:"flex"},children:(0,h.jsx)(o.Z,{})})}),re.length>0&&(0,h.jsx)("div",{className:"errors-list",children:(0,h.jsx)("ul",{children:Array.isArray(re)&&re.length>0&&re.map((function(e,t){return(0,h.jsx)("li",{children:e},t)}))})}),"day_photo"===a&&p.length>0&&p.map((function(e,t){return(0,h.jsx)(l.Fragment,{children:(0,h.jsxs)("div",{className:"fake-file-input image-container",style:{backgroundImage:"url("+e.tmb_image+")",position:"relative"},children:[(0,h.jsx)("div",{className:"tour-menu-dots",style:{padding:"5px",position:"absolute",top:15,right:15,cursor:"pointer"},onMouseOver:function(){return R(t)},onMouseOut:function(){return R(null)},onClick:function(){return le(e)},children:(0,h.jsx)("img",{src:c.Z,alt:"menu"})}),t===P&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"tour-menu",style:{position:"absolute",top:20,right:40,border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.05)",borderRadius:8,backgroundColor:"#fff"},children:(0,h.jsx)("div",{className:"tour-item-top",style:{padding:10,lineHeight:"15px",textAlign:"right"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})})]},t)},t)})),"day_photo"!==a&&p.length>0&&p.map((function(e,t){return(0,h.jsx)(l.Fragment,{children:(0,h.jsxs)("div",{className:"fake-file-input image-container",style:{backgroundImage:"url("+e.tmb_image+")",position:"relative"},children:[(0,h.jsx)("div",{className:"tour-menu-dots",style:{padding:"5px",position:"absolute",top:15,right:15,cursor:"pointer"},onMouseOver:function(){return R(t)},onMouseOut:function(){return R(null)},onClick:function(){return le(e)},children:(0,h.jsx)("img",{src:c.Z,alt:"menu"})}),t===P&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"tour-menu",style:{position:"absolute",top:20,right:40,border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.05)",borderRadius:8,backgroundColor:"#fff"},children:(0,h.jsx)("div",{className:"tour-item-top",style:{padding:10,lineHeight:"15px",textAlign:"right"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})})]},t)},t)}))]})]}),U&&(0,h.jsx)("div",{className:"fake-file-input loader-spinner",onClick:ue,children:(0,h.jsx)(u.Z,{sx:{display:"flex"},children:(0,h.jsx)(o.Z,{})})})]})}))},4790:function(e,t,n){var i=n(885),r=n(2791),a=n(3239),s=n(4554),l=n(8537),o=n(7258),u=n(7880),c=n(364),d=n(8324),p=n(7746),f=n(184);t.Z=(0,c.$j)(null,{deleteTourImage:o.zr,deleteTourWallpaper:o.Ao,delete_avatar:u.TQ,deletePropertyImage:o.N8,delete_docs:u.DG})((function(e){var t=e.tour,n=e.action,o=e.name,u=e.value,c=void 0===u?[]:u,m=e.max,g=e.required,x=e.position,h=e.deleteTourImage,v=e.deleteTourWallpaper,j=e.delete_avatar,b=e.deletePropertyImage,y=e.delete_action,k=e.error,N=e.accept_all,Z=void 0!==N&&N,_=e.delete_docs,S=(0,r.useState)([]),I=(0,i.Z)(S,2),C=(I[0],I[1]),T=(0,r.useState)(!1),w=(0,i.Z)(T,2),A=(w[0],w[1],(0,r.useState)(!0)),F=(0,i.Z)(A,2),O=F[0],E=F[1],M=(0,r.useState)(null),P=(0,i.Z)(M,2),R=P[0],D=P[1],H=(0,r.useState)([]),q=(0,i.Z)(H,2),W=(q[0],q[1]),$=(0,r.useState)(!1),z=(0,i.Z)($,2),Q=z[0],G=z[1],B=(0,r.useState)(!1),J=(0,i.Z)(B,2),K=J[0],L=J[1],U=(0,r.useState)(!1),V=(0,i.Z)(U,2),X=V[0],Y=V[1],ee=(0,r.useState)(""),te=(0,i.Z)(ee,2),ne=te[0],ie=te[1],re=(0,r.useState)([]),ae=(0,i.Z)(re,2),se=ae[0],le=ae[1];(0,r.useEffect)((function(){L(!0);var e=setTimeout((function(){return L(!1)}),500);return function(){return clearTimeout(e)}}),[]),(0,r.useEffect)((function(){X&&Y(!1)}),[X]),(0,r.useEffect)((function(){K&&c&&c.length>0&&L(!1)}),[K,c]);var oe=(0,r.useRef)(null);(0,r.useEffect)((function(){if(k&&(0,p.Z)(k)&&k.detail){var e=[];e.push(k.detail),le(e)}else k&&k[o]&&le(k[o])}),[k,o]),(0,r.useEffect)((function(){m&&c.length>=m&&E(!1)}),[m,c]);var ue=function(e){ie(e),G(!0)},ce=function(){oe.current.click()};return(0,f.jsxs)(f.Fragment,{children:[Q&&(0,f.jsx)(d.Z,{status:"danger",title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c?",text:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430.",button:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",button2:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",action:function(){return G(!1)},second_action:function(){return Y(!0),"wallpaper"===o&&(v(t.id),W(null),E(!0)),"avatar"===o&&(j(),W(null),E(!0)),"day_photo"===o&&(y(ne),W(null),E(!0)),"gallery"===x&&h(ne,t.id),"accommodation"===x&&b(ne,t.id),"scans"===o&&_(ne.id),void G(!1)}}),!X&&(0,f.jsxs)("div",{className:"fake-file-input-component",id:o,children:[(0,f.jsx)("input",{name:o,required:g,type:"file",onChange:function(e){L(!0),e.target.files[0]&&(le([]),C(e.target.files[0]),n(e.target.files[0]))},ref:oe,accept:Z?"*":"image/png, image/jpeg, image/jpg"}),(0,f.jsxs)("div",{className:"fake-file-input-wrapper",children:[(0,f.jsxs)("div",{className:"fake-file-input file-input ".concat(O?"file-input-active":"file-input-inactive"),onClick:ce,children:[(0,f.jsx)("div",{className:"camera-image"}),(0,f.jsx)("div",{className:"fake-file-input-text",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0444\u043e\u0442\u043e"})]}),K&&(0,f.jsx)("div",{className:"fake-file-input loader-spinner",onClick:ce,children:(0,f.jsx)(s.Z,{sx:{display:"flex"},children:(0,f.jsx)(a.Z,{})})}),se&&Array.isArray(se)&&se.length>0&&(0,f.jsx)("div",{className:"errors-list",children:(0,f.jsx)("ul",{children:se&&Array.isArray(se)&&se.length>0&&se.map((function(e,t){return(0,f.jsx)("li",{children:e},t)}))})}),"scans"===o&&c&&c.length>0&&c.map((function(e,t){return(0,f.jsx)(r.Fragment,{children:(0,f.jsxs)("div",{className:"fake-file-input file-input",children:[(0,f.jsx)("a",{href:e.file,target:"_blank",download:!0,style:{height:"100%",width:"100%",position:"absolute"}},t),(0,f.jsx)("div",{className:"tour-menu-dots",style:{padding:"5px",position:"absolute",top:15,right:15,cursor:"pointer"},onMouseOver:function(){return D(t)},onMouseOut:function(){return D(null)},onClick:function(){return ue(e)},children:(0,f.jsx)("img",{src:l.Z,alt:"menu"})}),t===R&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"tour-menu",style:{position:"absolute",top:20,right:40,border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.05)",borderRadius:8,backgroundColor:"#fff"},children:(0,f.jsx)("div",{className:"tour-item-top",style:{padding:10,lineHeight:"15px",textAlign:"right"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})}),(0,f.jsx)("div",{className:"doc-image"}),(0,f.jsx)("div",{className:"fake-file-input-text",children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u0430\u0447\u0430\u0442\u044c"})]},t)},t)})),"day_photo"===o&&c.length>0&&c.map((function(e,t){return(0,f.jsx)(r.Fragment,{children:(0,f.jsxs)("div",{className:"fake-file-input image-container",style:{backgroundImage:"url("+e.tmb_image+")",position:"relative"},children:[(0,f.jsx)("div",{className:"tour-menu-dots",style:{padding:"5px",position:"absolute",top:15,right:15,cursor:"pointer"},onMouseOver:function(){return D(t)},onMouseOut:function(){return D(null)},onClick:function(){return ue(e)},children:(0,f.jsx)("img",{src:l.Z,alt:"menu"})}),t===R&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"tour-menu",style:{position:"absolute",top:20,right:40,border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.05)",borderRadius:8,backgroundColor:"#fff"},children:(0,f.jsx)("div",{className:"tour-item-top",style:{padding:10,lineHeight:"15px",textAlign:"right"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})})]},t)},t)})),"scans"!==o&&"day_photo"!==o&&c.length>0&&c.map((function(e,t){return(0,f.jsx)(r.Fragment,{children:(0,f.jsxs)("div",{className:"fake-file-input image-container",style:{backgroundImage:"url("+e.tmb_image+")",position:"relative"},children:[(0,f.jsx)("div",{className:"tour-menu-dots",style:{padding:"5px",position:"absolute",top:15,right:15,cursor:"pointer"},onMouseOver:function(){return D(t)},onMouseOut:function(){return D(null)},onClick:function(){return ue(e)},children:(0,f.jsx)("img",{src:l.Z,alt:"menu"})}),t===R&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)("div",{className:"tour-menu",style:{position:"absolute",top:20,right:40,border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.05)",borderRadius:8,backgroundColor:"#fff"},children:(0,f.jsx)("div",{className:"tour-item-top",style:{padding:10,lineHeight:"15px",textAlign:"right"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})})]},t)},t)}))]})]}),X&&(0,f.jsx)("div",{className:"fake-file-input loader-spinner",onClick:ce,children:(0,f.jsx)(s.Z,{sx:{display:"flex"},children:(0,f.jsx)(a.Z,{})})})]})}))}}]);
//# sourceMappingURL=4117.73f190b9.chunk.js.map