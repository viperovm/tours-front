{"version":3,"file":"static/js/494.07028ad7.chunk.js","mappings":"8HAkCA,IAhCe,SAAC,GAYO,IAAD,IAXJA,OAAAA,OAWI,SAVJC,EAUI,EAVJA,OAUI,IATJC,MAAAA,OASI,MATI,iBASJ,MARJC,KAAAA,OAQI,MARG,+DAQH,EAPJC,EAOI,EAPJA,MACAC,EAMI,EANJA,QACAC,EAKI,EALJA,OAKI,IAJJC,KAAAA,OAII,MAJG,SAIH,EAHJC,EAGI,EAHJA,WACAC,EAEI,EAFJA,KAEI,IADJC,MAAAA,OACI,SACpB,OACE,mBACEC,UAAWX,EACXY,QAASX,EACTY,UAAS,0BACPb,EAASE,EAAQ,kBADV,YAGPQ,EAAQ,QAAU,IAEpBI,MAAO,CAACV,MAAOA,GAAgB,OAAQW,YAAaX,EAAQ,OAAS,IAAKC,QAASA,EAASC,OAAQA,GACpGC,KAAMA,EACNC,WAAYA,EACZC,KAAMA,EAXR,SAaGN,M,sHCiDP,WAAea,EAAAA,EAAAA,KALS,SAAAC,GAAK,MAAK,CAChCC,SAAUD,EAAME,UAAUD,SAC1BE,OAAQH,EAAMI,KAAKC,WAGmB,CAACC,cAAAA,EAAAA,IAAzC,EAtEsB,SAAC,GAA8C,IAA7CC,EAA4C,EAA5CA,MAAOD,EAAqC,EAArCA,cAAeH,EAAsB,EAAtBA,OAAQF,EAAc,EAAdA,SAE9CO,GAAUC,EAAAA,EAAAA,MAEhB,GAA4CC,EAAAA,EAAAA,WAAS,GAArD,eAAOC,EAAP,KAAuBC,EAAvB,KACA,GAAgCF,EAAAA,EAAAA,WAAS,GAAzC,eAAOG,EAAP,KAAiBC,EAAjB,MAEAC,EAAAA,EAAAA,YAAU,WACRC,MACC,KAEHD,EAAAA,EAAAA,YAAU,WAKR,GAAGF,EAAU,CACX,IAAII,EAAQC,YAAW,kBAJvBJ,GAAY,QACZN,EAAQW,KAAR,WAAiBlB,MAG0B,KAC3C,OAAO,kBAAMmB,aAAaH,OAE3B,CAACJ,KAGJE,EAAAA,EAAAA,YAAU,WAENH,EADY,UAAXT,GAAsBA,GAAU,KAAOA,EAAS,OAKlD,CAACA,IAEJ,IAAMa,EAAe,WACnB,IAAMK,EAAO,CACXC,IAAKf,EAAMgB,OAAOD,IAClBE,MAAOjB,EAAMgB,OAAOC,OAEtBlB,EAAce,GACdP,GAAY,IAGd,OACE,+BACE,SAAC,IAAD,WACE,gBAAKlB,UAAU,oBAAf,SACGiB,GAAYV,GACT,gCACGQ,GACC,gBAAKf,UAAU,0BAAf,kKAEA,gBAAKA,UAAU,wBAAf,uOAEF,gBAAKA,UAAU,uBAAf,gSAIJ,gBAAKA,UAAU,sBAAf,UACE,SAAC,IAAD","sources":["components/AccountTours/Components/Button.js","pages/account/EmailActivate/EmailActivate.js"],"sourcesContent":["import React from \"react\";\n\nconst Button = ({\n                  active = true,\n                  action,\n                  color = 'button-success',\n                  text = 'Продолжить',\n                  width,\n                  padding,\n                  margin,\n                  type = 'button',\n                  formAction,\n                  name,\n                  small = false,\n                }) => {\n  return (\n    <button\n      disabled={!active}\n      onClick={action}\n      className={`add-tour-button ${\n        active ? color : 'button-disabled'\n      } ${\n        small ? 'small' : ''\n      }`}\n      style={{width: width ? width : 'auto', marginRight: width ? '30px' : '0', padding: padding, margin: margin}}\n      type={type}\n      formAction={formAction}\n      name={name}\n    >\n      {text}\n    </button>\n  )\n}\n\nexport default Button","import React, {useEffect, useState} from \"react\";\nimport {connect} from \"react-redux\";\nimport {email_confirm} from \"../../../redux/actions/authActions\";\nimport {Redirect, useHistory} from \"react-router-dom\";\nimport Button from \"../../../components/AccountTours/Components/Button\";\nimport MainLayout from \"../../../layouts/MainLayout\";\nimport CircularProgress from '@mui/material/CircularProgress'\n\nconst EmailActivate = ({match, email_confirm, status, language}) => {\n\n  const history = useHistory()\n\n  const [requestSuccess, setRequestSuccess] = useState(true)\n  const [verified, setVerified] = useState(false);\n\n  useEffect(() => {\n    verify_email()\n  }, [])\n\n  useEffect(() => {\n    const redirector = () => {\n      setVerified(false)\n      history.push(`/${language}`)\n    }\n    if(verified) {\n      let timer = setTimeout(() => redirector(), 5000)\n      return () => clearTimeout(timer)\n    }\n  }, [verified])\n\n\n  useEffect(() => {\n    if(status !== 'error' && status >= 200 && status < 300) {\n      setRequestSuccess(true)\n    } else {\n      setRequestSuccess(false)\n    }\n  }, [status])\n\n  const verify_email = () => {\n    const data = {\n      uid: match.params.uid,\n      token: match.params.token,\n    }\n    email_confirm(data);\n    setVerified(true)\n  };\n\n  return (\n    <>\n      <MainLayout>\n        <div className=\"verification-page\">\n          {verified && status ? (\n              <>\n                {requestSuccess ?\n                  <div className=\"verification-text green\">Почта успешно подтверждена!</div>\n                  :\n                  <div className=\"verification-text red\">Ошибка подтверждения. Попробуйте еще раз.</div>\n                }\n                <div className=\"verification-subtext\">Скоро вы будете перенаправлены на главную страницу</div>\n              </>\n            )\n            :\n            <div className='verification-button'>\n              <CircularProgress />\n            </div>\n          }\n        </div>\n      </MainLayout>\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  language: state.languages.language,\n  status: state.auth.confirm,\n})\n\nexport default connect(mapStateToProps, {email_confirm})(EmailActivate)"],"names":["active","action","color","text","width","padding","margin","type","formAction","name","small","disabled","onClick","className","style","marginRight","connect","state","language","languages","status","auth","confirm","email_confirm","match","history","useHistory","useState","requestSuccess","setRequestSuccess","verified","setVerified","useEffect","verify_email","timer","setTimeout","push","clearTimeout","data","uid","params","token"],"sourceRoot":""}