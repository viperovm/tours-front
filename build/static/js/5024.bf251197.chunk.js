"use strict";(self.webpackChunkyour_app=self.webpackChunkyour_app||[]).push([[5024],{8537:function(e,t,r){r(2791);t.Z=r.p+"static/media/trash.6d1ed156c7e05e39c7b941f18eef2919.svg"},2700:function(e,t,r){r.r(t),r.d(t,{default:function(){return A}});var n=r(885),i=r(4942),a=r(1413),s=r(5861),o=r(7757),u=r.n(o),l=r(2791),c=r(3498),d=r(1727),f=r(364),m=r(7258),p=r(651),x=r(6257),v=r(6933),h=r(3239),g=r(679),j=r(4554),b=r(184),Z=(0,f.$j)((function(e){return{tour:e.tours.current_tour,error:e.tours.error}}),{updateActivity:m.UU,setActivityImage:m.W9})((function(e){var t=e.tour,r=e.id,i=(e.action,e.activity),a=e.updateActivity,s=e.setActivityImage,o=(e.error,(0,l.useState)({})),u=(0,n.Z)(o,2),d=(u[0],u[1],(0,l.useState)(!1)),f=(0,n.Z)(d,2),m=f[0],x=f[1];(0,l.useEffect)((function(){i&&i.image&&x(!1)}),[i]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.Z,{label:"\u0427\u0435\u043c \u043c\u044b \u0437\u0430\u0439\u043c\u0435\u043c\u0441\u044f \u0432 \u0442\u0443\u0440\u0435",comment:"",children:(0,b.jsx)(p.Z,{action:function(e,t){a(r,t)},name:"description",value:i&&i.description})}),(0,b.jsxs)(c.Z,{label:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e",comment:"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c 1 \u0444\u043e\u0442\u043e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438",children:[!m&&(0,b.jsx)(g.Z,{activity_id:r,action:function(e){x(!0),s(e,r,t.id)},name:"image",type:"file",max:1,value:i&&i.image&&i.image.tmb_image}),m&&(0,b.jsx)("div",{children:(0,b.jsx)(j.Z,{sx:{display:"flex"},children:(0,b.jsx)(h.Z,{})})})]})]})})),y=r(4513),k=r(3896),_=r(890);function w(e){var t=e.children,r=e.value,n=e.index;return(0,b.jsx)("div",{role:"tabpanel",hidden:r!==n,id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n),children:r===n&&(0,b.jsx)(j.Z,{sx:{p:3},children:(0,b.jsx)(_.Z,{component:"span",children:t})})})}var N=(0,f.$j)((function(e){return{secondary_nav:e.tours.secondary_nav,tour:e.tours.current_tour}}),{updateTour:m.Mn,addActivity:m.xn,removeActivity:m.c5})((function(e){var t=e.tour,r=e.addActivity,i=e.removeActivity,s=(0,l.useState)(0),o=(0,n.Z)(s,2),u=o[0],c=o[1],d=(0,l.useState)([]),f=(0,n.Z)(d,2),m=f[0],p=f[1],x=(0,l.useState)([1]),g=(0,n.Z)(x,2),_=g[0],N=g[1],E=(0,l.useState)(!1),A=(0,n.Z)(E,2),S=A[0],C=A[1];(0,l.useEffect)((function(){if(t&&!t.plan)r({id:1,image:{},description:""}),C(!0);else{C(!1),p(t.plan);for(var e=[],n=1;n<=t.plan.length;n++)e.push(n);N(e)}}),[t]);var T=function(e,t){var r=m.filter((function(e){return e.id!==t}));r.push(e),p(r)};(0,l.useEffect)((function(){_&&S&&C(!1)}),[_,S]);var I=function(){return(0,b.jsx)("div",{className:"close-tab-button",children:"\xd7"})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"my-tours-section-heading",children:(0,b.jsx)("h4",{style:{marginBottom:10},children:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0442\u0443\u0440\u0430"})}),!S&&m.length>0&&(0,b.jsxs)(j.Z,{sx:{width:"100%"},children:[(0,b.jsx)(j.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,b.jsx)(y.Z,{value:u,onChange:function(e,t){"DIV"===e.target.tagName?u===_.length-1?(i(t),c(u-1)):i(t):c(t)},"aria-label":"basic tabs example",variant:"scrollable",scrollButtons:"auto",children:_.map((function(e,t){return(0,b.jsx)(k.Z,(0,a.Z)({label:(0,b.jsxs)("span",{className:"tab-title-wrapper",children:["\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c ".concat(e),(0,b.jsx)(I,{})]})},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(t)),t)}))})}),m.map((function(e,r){return(0,b.jsx)(w,{value:u,index:r,children:(0,b.jsx)(Z,{id:r+1,action:T,activity:e,tour:t})},r)}))]}),S&&(0,b.jsx)("div",{className:"fake-file-input loader-spinner",children:(0,b.jsx)(j.Z,{sx:{display:"flex"},children:(0,b.jsx)(h.Z,{})})}),(0,b.jsx)(v.Z,{active:!0,action:function(){C(!0);var e=_[_.length-1]+1;r({id:e,image:{},description:""}),c(e-1)},color:"button-primary",text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c"})]})})),E=r(2360),A=(0,f.$j)((function(e){return{toursTypes:e.tours.tour_types,tour:e.tours.current_tour,error:e.tours.error,field_key:e.tours.key}}),{updateTour:m.Mn,deleteKey:m.L2,clearErrors:m.b9})((function(e){var t=e.tour,r=e.toursTypes,o=e.updateTour,f=e.match,m=e.error,v=e.deleteKey,h=e.field_key,g=e.clearErrors;(0,l.useEffect)((function(){var e=function(){var e=(0,s.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=document.getElementById(t))&&r.scrollIntoView({block:"center",behavior:"smooth"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return h&&e(h).then((function(){return v()})),function(){return g()}}),[h]);var j=function(e,r){o((0,a.Z)((0,a.Z)({},t),{},(0,i.Z)({},e,r)))},Z=(0,l.useState)([]),y=(0,n.Z)(Z,2),k=y[0],_=y[1];return(0,l.useEffect)((function(){_(m||[])}),[m]),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(E.Z,{section_slug:"review",section_name:"\u041e\u0431\u0437\u043e\u0440",tour_id:f.params.id,forward_url:"prices",backward_url:"main",submit_url:"",children:[(0,b.jsx)(c.Z,{label:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0443\u0440\u0430",comment:"",tour:t,name:"description",children:(0,b.jsx)(p.Z,{action:j,name:"description",value:t&&t.description,error:m})}),(0,b.jsx)(c.Z,{label:"\u0413\u043b\u0430\u0432\u043d\u044b\u0435 \u0432\u043f\u0435\u0447\u0430\u0442\u043b\u0435\u043d\u0438\u044f",comment:"\u0412\u0432\u043e\u0434\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0442\u043e\u0447\u043a\u0443 \u0441 \u0437\u0430\u043f\u044f\u0442\u043e\u0439.",tour:t,name:"main_impressions",children:(0,b.jsx)(x.Z,{action:j,name:"main_impressions",label:"",value:t&&t.main_impressions,rows:"7",error:m})}),(0,b.jsx)(c.Z,{label:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e (youtube \u0438\u043b\u0438 vimeo)",comment:"",tour:t,name:"media_link",children:(0,b.jsx)(d.Z,{action:j,name:"media_link",value:t&&t.media_link,options:r,error:k})}),(0,b.jsx)(N,{})]})})}))},679:function(e,t,r){var n=r(885),i=r(2791),a=r(3239),s=r(4554),o=r(8537),u=r(364),l=r(7258),c=r(7880),d=r(7448),f=r(8324),m=r(7746),p=r(184);t.Z=(0,u.$j)((function(e){return{tour:e.tours.current_tour}}),{deleteTourWallpaper:l.Ao,delete_avatar:c.TQ,deleteTeamMemberAvatar:d.nR,deleteActivityImage:l.ar})((function(e){var t=e.action,r=e.name,u=e.value,l=e.max,c=e.tour,d=e.deleteTourWallpaper,x=e.delete_avatar,v=e.required,h=e.type,g=e.deleteTeamMemberAvatar,j=e.member,b=e.error,Z=void 0===b?{}:b,y=e.activity_id,k=void 0===y?null:y,_=e.deleteActivityImage,w=(0,i.useState)([]),N=(0,n.Z)(w,2),E=(N[0],N[1]),A=(0,i.useState)(!1),S=(0,n.Z)(A,2),C=(S[0],S[1]),T=(0,i.useState)(!0),I=(0,n.Z)(T,2),M=I[0],F=I[1],q=(0,i.useState)(!1),B=(0,n.Z)(q,2),K=B[0],R=B[1],O=(0,i.useState)(null),$=(0,n.Z)(O,2),D=$[0],L=$[1],W=(0,i.useState)(!1),H=(0,n.Z)(W,2),Q=H[0],U=H[1],V=(0,i.useState)([]),z=(0,n.Z)(V,2),G=z[0],J=z[1],P=(0,i.useState)(!1),X=(0,n.Z)(P,2),Y=X[0],ee=X[1],te=(0,i.useState)(!1),re=(0,n.Z)(te,2),ne=re[0],ie=re[1],ae=(0,i.useRef)(null);(0,i.useEffect)((function(){ee(!0);var e=setTimeout((function(){return ee(!1)}),500);return function(){return clearTimeout(e)}}),[]),(0,i.useEffect)((function(){ne&&ie(!1)}),[ne]),(0,i.useEffect)((function(){Y&&u&&u.length>0&&ee(!1)}),[Y,u]),(0,i.useEffect)((function(){if((0,m.Z)(Z)&&Z.detail){var e=[];e.push(Z.detail),J(e)}else Z[r]&&J(Z[r])}),[Z,r]),(0,i.useEffect)((function(){if(u)if(1===l)L(u);else if(D){var e=D;e.push(u),L(e)}else{var t=[];t.push(u),L(t)}}),[u]),(0,i.useEffect)((function(){l&&D&&D.length>=l&&F(!1)}),[l,D]);var se=function(){ae.current.click()};return(0,p.jsxs)(p.Fragment,{children:[Q&&(0,p.jsx)(f.Z,{status:"danger",title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c?",text:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0430\u0432\u0441\u0435\u0433\u0434\u0430.",button:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",button2:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",action:function(){return U(!1)},second_action:function(){return"wallpaper"===r&&(d(c.id),L(null),F(!0)),"avatar"===r&&"team_member"!==h&&(x(),L(null),F(!0)),"avatar"===r&&"team_member"===h&&j&&(g(j.id),L(null),F(!0)),k&&(_(k),L(null),F(!0)),U(!1),void ie(!0)}}),!ne&&(0,p.jsxs)("div",{className:"fake-file-input-component",id:r,children:[(0,p.jsx)("input",{required:v,name:r,type:"file",onChange:function(e){ee(!0),e.target.files[0]&&(J([]),E(e.target.files[0]),t(e.target.files[0]),C(!1))},ref:ae,accept:"image/png, image/jpeg, image/jpg"}),(0,p.jsxs)("div",{className:"fake-file-input-wrapper",children:[(0,p.jsxs)("div",{className:"fake-file-input file-input ".concat(M?"file-input-active":"file-input-inactive"," ").concat(Array.isArray(G)&&G.length>0?"error":"ok"),onClick:se,children:[(0,p.jsx)("div",{className:"camera-image"}),(0,p.jsx)("div",{className:"fake-file-input-text",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u043e\u0435 \u0444\u043e\u0442\u043e"})]}),Y&&(0,p.jsx)("div",{className:"fake-file-input loader-spinner",onClick:se,children:(0,p.jsx)(s.Z,{sx:{display:"flex"},children:(0,p.jsx)(a.Z,{})})}),G.length>0&&(0,p.jsx)("div",{className:"errors-list",children:(0,p.jsx)("ul",{children:Array.isArray(G)&&G.length>0&&G.map((function(e,t){return(0,p.jsx)("li",{children:e},t)}))})}),1!==l&&D&&D.map((function(e,t){return(0,p.jsx)(i.Fragment,{children:(0,p.jsxs)("div",{className:"fake-file-input image-container",style:{backgroundImage:"url("+e+")",position:"relative"},children:[(0,p.jsx)("div",{className:"tour-menu-dots",style:{padding:"5px",position:"absolute",top:15,right:15,cursor:"pointer"},onMouseOver:function(){return R(!0)},onMouseOut:function(){return R(!1)},onClick:function(){return U(!0)},children:(0,p.jsx)("img",{src:o.Z,alt:"menu"})}),K&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"tour-menu",style:{position:"absolute",top:20,right:40,border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.05)",borderRadius:8,backgroundColor:"#fff"},children:(0,p.jsx)("div",{className:"tour-item-top",style:{padding:10,lineHeight:"15px",textAlign:"right"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})})]},t)},t)})),1===l&&D&&(0,p.jsxs)("div",{className:"fake-file-input image-container",style:{backgroundImage:"url("+D+")",position:"relative"},children:[(0,p.jsx)("div",{className:"tour-menu-dots",style:{padding:"5px",position:"absolute",top:15,right:15,cursor:"pointer"},onMouseOver:function(){return R(!0)},onMouseOut:function(){return R(!1)},onClick:function(){return U(!0)},children:(0,p.jsx)("img",{src:o.Z,alt:"menu"})}),K&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"tour-menu",style:{position:"absolute",top:20,right:40,border:"1px solid rgba(0, 0, 0, 0.1)",boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.05)",borderRadius:8,backgroundColor:"#fff"},children:(0,p.jsx)("div",{className:"tour-item-top",style:{padding:10,lineHeight:"15px",textAlign:"right"},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})})]})]})]}),ne&&(0,p.jsx)("div",{className:"fake-file-input loader-spinner",onClick:se,children:(0,p.jsx)(s.Z,{sx:{display:"flex"},children:(0,p.jsx)(a.Z,{})})})]})}))},6257:function(e,t,r){var n=r(885),i=r(2791),a=r(184);t.Z=function(e){var t=e.label,r=e.action,s=e.name,o=e.value,u=e.rows,l=void 0===u?5:u,c=e.required,d=e.error,f=void 0===d?{}:d,m=(0,i.useState)(""),p=(0,n.Z)(m,2),x=p[0],v=p[1],h=(0,i.useState)([]),g=(0,n.Z)(h,2),j=g[0],b=g[1];(0,i.useEffect)((function(){if(f&&f.detail){var e=[];e.push(f.detail),b(e)}else f&&"re_password"===s?b(f.password):f&&f[s]&&b(f[s])}),[f,s]),(0,i.useEffect)((function(){o&&v(o)}),[o]);return(0,a.jsxs)("div",{className:"with-errors-wrapper",id:s,children:[(0,a.jsx)("textarea",{required:c,className:"custom-textarea-style ".concat(j.length>0?"error":"ok"),placeholder:t,name:s,value:x,onChange:function(e){b([]),v(e.target.value),r(s,e.target.value)},rows:l}),(0,a.jsx)("div",{className:"errors-list",children:(0,a.jsx)("ul",{children:Array.isArray(j)&&j.length>0&&j.map((function(e,t){return(0,a.jsx)("li",{children:e},t)}))})})]})}},651:function(e,t,r){var n=r(885),i=r(2791),a=r(3239),s=r(7746),o=r(184);t.Z=function(e){var t=e.action,u=e.name,l=e.value,c=(e.required,e.error),d=void 0===c?{}:c,f=(0,i.useRef)(),m=(0,i.useState)(!1),p=(0,n.Z)(m,2),x=p[0],v=p[1],h=f.current||{},g=h.CKEditor,j=h.ClassicEditor,b=(0,i.useState)([]),Z=(0,n.Z)(b,2),y=Z[0],k=Z[1];(0,i.useEffect)((function(){if((0,s.Z)(d)&&d.detail){var e=[];e.push(d.detail),k(e)}else(0,s.Z)(d)&&"re_password"===u?k(d.password):d[u]&&k(d[u])}),[d,u]),(0,i.useEffect)((function(){f.current={CKEditor:r(7551).CKEditor,ClassicEditor:r(2443)},v(!0)}),[]);var _=(0,i.useState)(""),w=(0,n.Z)(_,2),N=w[0],E=w[1];return(0,i.useEffect)((function(){l&&E(l)}),[l]),x?(0,o.jsxs)("div",{className:"ckeditor-textarea-wrapper with-errors-wrapper ".concat(y.length>0?"error":"ok"),id:u,children:[(0,o.jsx)(g,{editor:j,data:N,value:N,config:{toolbar:["bold","italic","blockQuote","|","numberedList","bulletedList","|","undo","redo"]},onChange:function(e,r){k([]);var n=r.getData();t(u,n)},onBlur:function(e,r){var n=r.getData();t(u,"<p></p>"===n?"":n)}}),(0,o.jsx)("div",{className:"errors-list",children:(0,o.jsx)("ul",{children:Array.isArray(y)&&y.length>0&&y.map((function(e,t){return(0,o.jsx)("li",{children:e},t)}))})})]}):(0,o.jsx)("div",{children:(0,o.jsx)(a.Z,{})})}}}]);
//# sourceMappingURL=5024.bf251197.chunk.js.map