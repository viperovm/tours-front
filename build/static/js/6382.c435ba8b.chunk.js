"use strict";(self.webpackChunkyour_app=self.webpackChunkyour_app||[]).push([[6382],{1328:function(e,r,t){t.d(r,{Z:function(){return P}});var _=t(5861),i=t(885),a=t(7757),s=t.n(a),o=t(2791),n={preview_wrapper:"Tour_preview_wrapper__hzV+e",tour_body:"Tour_tour_body__Z9ac4",preview_breadcrumbs:"Tour_preview_breadcrumbs__fLyKM",tour_sidebar:"Tour_tour_sidebar__2fQeV",tour_sidebar_body:"Tour_tour_sidebar_body__B9Tep",tour_sidebar_header:"Tour_tour_sidebar_header__7tSSr",tour_sidebar_main:"Tour_tour_sidebar_main__etFbR",guarantied_row:"Tour_guarantied_row__6rff0",guarantied_row_guarantied:"Tour_guarantied_row_guarantied__v1pQd",guarantied_row_guarantied_icon:"Tour_guarantied_row_guarantied_icon__bfmYU",guarantied_row_guarantied_text:"Tour_guarantied_row_guarantied_text__9nkpg",price_row:"Tour_price_row__1d8A3",price_row_total_price:"Tour_price_row_total_price__VMjBF",price_row_total_price_total:"Tour_price_row_total_price_total__odbiV",price_row_total_price_discounted:"Tour_price_row_total_price_discounted__-chgf",price_row_daily_price:"Tour_price_row_daily_price__crhxq",price_comment_row:"Tour_price_comment_row__RCkpQ",price_comment_row_more:"Tour_price_comment_row_more__lTx6M",duration_row:"Tour_duration_row__f4Z89",duration_row_col:"Tour_duration_row_col__me4V6",duration_row_icon:"Tour_duration_row_icon__+rNt8",duration_row_text:"Tour_duration_row_text__ZGiQP",duration_row_text_title:"Tour_duration_row_text_title__JrBKF",duration_row_text_data:"Tour_duration_row_text_data__3K2zX",inputs_row:"Tour_inputs_row__BicAy",inputs_row_date_input:"Tour_inputs_row_date_input__punHg",calendar:"Tour_calendar__NaPyA",inputs_row_date_input_text:"Tour_inputs_row_date_input_text__cdHWA",inputs_row_date_input_button:"Tour_inputs_row_date_input_button__IVgSG",inputs_row_date_input_button_minus:"Tour_inputs_row_date_input_button_minus__Ta8JW",inputs_row_button:"Tour_inputs_row_button__o31YK",footer_row_button:"Tour_footer_row_button__4DtcM",inputs_row_text:"Tour_inputs_row_text__DkJJ1",inputs_row_text_heading:"Tour_inputs_row_text_heading__814oP",inputs_row_text_text:"Tour_inputs_row_text_text__jKJBd",tour_sidebar_footer:"Tour_tour_sidebar_footer__BjglX",footer_row_leader:"Tour_footer_row_leader__K+cGy",footer_row_leader_image:"Tour_footer_row_leader_image__xT3Zj",footer_row_leader_leader:"Tour_footer_row_leader_leader__5-W2X",footer_row_leader_name:"Tour_footer_row_leader_name__C3idC",footer_row_leader_rating:"Tour_footer_row_leader_rating__218-t",divider:"Tour_divider__LOuKv"},c=t(364),d=t(7258),u=t(3239),l=t(4554),p=t(4859),m=t(1566),x=t(6531),w=t(2057),h=t(8458),g=t(5417),v=t(6043),j=t(9869),f=t(3165),y=t(5473),b=t(4669),T=t(4768),N=t(140),k=t(8382),Z=t(9566),A=t(9741),S=t(7571),C=t(7538),F=t(6269),L=t(8156),R=t(3618),B=(t(2947),t(3924)),J=t(2018),K=t(4569),M=t.n(K),V=t(184),q={getTourReview:d.R_,add_chat_room:B.q$},P=(0,c.$j)((function(e){return{language:e.languages.language,tour_preview:e.tours.tour_preview,isAuthenticated:e.auth.isAuthenticated}}),q)((function(e){var r=e.language,t=e.tour_preview,a=e.add_chat_room,c=e.isAuthenticated,d=(0,S.k6)(),B=(0,o.useState)(1),K=(0,i.Z)(B,2),q=K[0],P=K[1],U=function(){a(t.expert.id),d.push("/".concat(r,c?"/account/chat":"/login/chat"))},I=function(){var e=(0,_.Z)(s().mark((function e(){var _,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},i=JSON.stringify({travelers_number:q,tour:t.id}),e.prev=2,e.next=5,M().post("".concat("https://traveler.market","/api/orders/"),i,_);case 5:(a=e.sent)&&d.push("/".concat(r,"/account/orders/").concat(a.data.id,"/payment")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=(0,o.useState)(!1),r=(0,i.Z)(e,2),_=r[0],a=r[1];return t&&t.price_comment&&t.price_comment&&(0,V.jsx)(V.Fragment,{children:t&&t.price_comment&&t.price_comment.length<=23?(0,V.jsx)("div",{children:t.price_comment}):(0,V.jsx)(V.Fragment,{children:_?(0,V.jsxs)("div",{children:[t.price_comment+" ",(0,V.jsxs)("div",{className:n.price_comment_row_more,onClick:function(){return a(!1)},children:[" ","\u0441\u043a\u0440\u044b\u0442\u044c"]})]}):(0,V.jsxs)("div",{children:[t.price_comment.slice(0,23)+" ",(0,V.jsxs)("div",{className:n.price_comment_row_more,onClick:function(){return a(!0)},children:[" ","\u043f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435..."]})]})})})};return(0,V.jsxs)(V.Fragment,{children:[t&&(0,V.jsxs)(V.Fragment,{children:[t.wallpaper&&(0,V.jsx)(p.Z,{image:t.wallpaper}),(0,V.jsx)("div",{className:"wrapper",children:(0,V.jsxs)("div",{className:n.preview_wrapper,children:[(0,V.jsxs)("div",{className:n.tour_body,children:[(0,V.jsxs)("div",{className:n.preview_breadcrumbs,children:[(0,V.jsx)(A.rU,{to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"})," -",(0,V.jsx)(A.rU,{to:"/tours",children:"\u041f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f"})," -",(0,V.jsx)("span",{children:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0442\u0443\u0440\u0430"})]}),t.name&&(0,V.jsx)(m.Z,{title:t.name,rating:t.rating,reviews:t.reviews_count}),t.start_country&&(0,V.jsx)(x.Z,{country:t.start_country,region:t.start_russian_region?t.start_russian_region:t.start_city}),t.basic_type&&(0,V.jsx)(w.Z,{main_type:t.basic_type,extra_types:t.additional_types}),(0,V.jsx)(h.Z,{comfort:t.comfort_level,difficulty:t.difficulty_level,language:t.languages,age:t.age_starts+"-"+t.age_ends}),(0,V.jsx)("div",{className:n.divider}),t.main_impressions&&t.main_impressions.length>0&&(0,V.jsx)(g.Z,{impressions:t.main_impressions}),(t.plan&&t.plan.length>0||t.media_link)&&(0,V.jsx)(v.Z,{text:t.description,activities:t.plan,video:t&&t.media_link?t.media_link:""}),t.tour_images&&t.tour_images.length>0&&(0,V.jsx)(j.Z,{gallery:t.tour_images}),t.start_date&&t.start_city&&(0,V.jsx)(f.Z,{ya_map:t&&t.map,start_date:t&&t.start_date,start_city:t&&t.start_city,start_time:t&&t.start_time,finish_date:t&&t.finish_date,finish_city:t&&t.finish_city,finish_time:t&&t.finish_time}),Array.isArray(t.tour_days)&&(0,V.jsx)(y.Z,{days:t&&t.tour_days}),(Array.isArray(t.tour_property_types)||Array.isArray(t.tour_property_images))&&(0,V.jsx)(b.Z,{property_types:t.tour_property_types,images:t.tour_property_images}),(t.tour_included_services&&t.tour_included_services.length>0||t.tour_excluded_services&&t.tour_excluded_services.length>0)&&(0,V.jsx)(T.Z,{inclusions:t.tour_included_services,exclusions:t.tour_excluded_services}),t.air_tickets&&(0,V.jsx)(N.Z,{start_date:t&&t.start_date,start_city:t&&t.start_city,start_time:t&&t.start_time,finish_date:t&&t.finish_date,finish_city:t&&t.finish_city,finish_time:t&&t.finish_time,text:t&&t.air_tickets}),t.tour_addetional_services&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("h3",{children:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u0443\u0433\u0438"}),(0,V.jsx)("div",{style:{marginTop:"20px"},children:t&&t.tour_addetional_services&&t.tour_addetional_services.map((function(e,r){return(0,V.jsx)("div",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:"".concat(e.extra_text," ").concat(e.extra_service_price?" - "+e.extra_service_price+t.currency.sign:"")}},r)}))})]}),(t.guest_requirements||t.take_with||t.key_features||t.new_to_see)&&(0,V.jsx)(Z.Z,{guest_requirements:t.guest_requirements,take_with:t.take_with,key_features:t.key_features,new_to_see:t.new_to_see}),t.team_member&&(0,V.jsx)(k.Z,{leader:t.team_member,action:U})]}),(0,V.jsxs)("div",{className:n.tour_sidebar_body,style:{position:"sticky",top:"30px"},children:[(0,V.jsxs)("div",{className:n.tour_sidebar_header,children:[(0,V.jsx)(A.rU,{to:"/register",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c!"}),(0,V.jsx)("span",{children:"\u0418 \u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043d\u043e\u0432\u043e\u043c\u0443!"})]}),(0,V.jsxs)("div",{className:n.tour_sidebar_main,children:[(0,V.jsxs)("div",{className:n.guarantied_row,children:[(0,V.jsxs)("div",{className:n.guarantied_row_guarantied,children:[(0,V.jsx)("div",{className:n.guarantied_row_guarantied_icon,children:(0,V.jsx)("img",{src:C.Z,alt:"Ok"})}),(0,V.jsxs)("div",{className:n.guarantied_row_guarantied_text,children:["\u0422\u0443\u0440 \u043f\u0440\u043e\u0432\u0435\u0440\u0435\u043d"," ",t.is_guaranteed?"\u0438 \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d":""]})]}),(0,V.jsx)("div",{className:n.guarantied_row_guarantied_favourite,children:(0,V.jsx)("img",{src:F.Z,alt:"heart"})})]}),t.price&&(0,V.jsxs)("div",{className:n.price_row,children:[t&&t.price&&(0,V.jsxs)("div",{className:n.price_row_total_price,children:[t&&t.discounted_price&&(0,V.jsxs)("div",{className:n.price_row_total_price_total,children:[t&&t.price&&t.price.toLocaleString("ru")," ",(0,V.jsx)("span",{className:"rub-sign",children:"\u20bd"})]}),(0,V.jsxs)("div",{className:n.price_row_total_price_discounted,children:[(t&&t.discounted_price?t.discounted_price:t.price).toLocaleString("ru")," ",(0,V.jsx)("span",{className:"rub-sign",children:"\u20bd"})]})]}),t&&t.daily_price&&(0,V.jsxs)("div",{className:n.price_row_daily_price,children:["\u0432 \u0434\u0435\u043d\u044c"," ",t&&t.daily_price&&(t.daily_price*q).toLocaleString("ru")," ",(0,V.jsx)("span",{className:"rub-sign",children:"\u20bd"})]})]}),(0,V.jsx)("div",{className:n.price_comment_row,children:(0,V.jsx)(Q,{})}),(t.duration||t.vacants_number||t.members_number)&&(0,V.jsxs)("div",{className:n.duration_row,children:[(0,V.jsxs)("div",{className:n.duration_row_col,children:[(0,V.jsx)("div",{className:n.duration_row_icon,children:(0,V.jsx)("img",{src:L.Z,alt:"stopwatch"})}),(0,V.jsxs)("div",{className:n.duration_row_text,children:[(0,V.jsx)("div",{className:n.duration_row_text_title,children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c:"}),(0,V.jsxs)("div",{className:n.duration_row_text_data,children:[t.duration," ","\u0434\u043d\u0435\u0439"]})]})]}),(0,V.jsxs)("div",{className:n.duration_row_col,children:[(0,V.jsx)("div",{className:n.duration_row_icon,children:(0,V.jsx)("img",{src:R.Z,alt:"group"})}),(0,V.jsxs)("div",{className:n.duration_row_text,children:[(0,V.jsx)("div",{className:n.duration_row_text_title,children:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u043e \u043c\u0435\u0441\u0442:"}),(0,V.jsxs)("div",{className:n.duration_row_text_data,children:[t.vacants_number," ","\u0438\u0437"," ",t.members_number]})]})]})]}),(0,V.jsx)("div",{className:n.inputs_row,children:(0,V.jsxs)("div",{className:n.inputs_row_date_input,children:[(0,V.jsx)("div",{className:n.inputs_row_date_input_button_minus,onClick:function(){q>1&&P(q-1)},children:"\u2014"}),(0,V.jsxs)("div",{className:n.inputs_row_date_input_text,children:["\u041c\u0435\u0441\u0442:"," ",q]}),(0,V.jsx)("div",{className:n.inputs_row_date_input_button,onClick:function(){q<t.vacants_number&&P(q+1)},children:"+"})]})}),(0,V.jsx)("div",{className:n.inputs_row_button,onClick:I,children:t.is_guaranteed?"\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0425\u043e\u0447\u0443 \u043f\u043e\u0435\u0445\u0430\u0442\u044c"}),(0,V.jsxs)("div",{className:n.inputs_row_text,children:[t&&t.book_price&&(0,V.jsxs)("div",{className:n.inputs_row_text_heading,children:["\u0414\u043b\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0443\u0440\u0430 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e ",t&&t.book_price&&(t.book_price*q).toLocaleString("ru"),(0,V.jsx)("span",{className:"rub-sign",children:"\u20bd"})]}),(0,V.jsx)("div",{className:n.inputs_row_text_text,children:"\u041f\u0440\u0438 \u043e\u0442\u043c\u0435\u043d\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043b\u044e\u0431\u043e\u0433\u043e \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 24 \u0447\u0430\u0441\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0432\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u043f\u043e\u043b\u043d\u044b\u0439 \u0432\u043e\u0437\u0432\u0440\u0430\u0442."})]})]}),(0,V.jsxs)("div",{className:n.tour_sidebar_footer,children:[t.expert&&(0,V.jsx)("div",{className:n.footer_row_leader,children:(0,V.jsx)(J.Z,{reviews:t.expert.tour_reviews_count,name:t.expert.first_name,rating:t.expert.rating,id:t.expert.id,avatar:t.expert.tmb_avatar,extra:", \u0410\u0432\u0442\u043e\u0440 \u0442\u0443\u0440\u043e\u0432"})}),(0,V.jsx)("div",{className:n.footer_row_button,onClick:U,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0430\u0432\u0442\u043e\u0440\u0443 \u0442\u0443\u0440\u0430"})]})]})]})})]}),!t&&(0,V.jsx)(l.Z,{sx:{display:"flex",width:"100%",justifyContent:"center",alignItems:"center",height:"300px"},children:(0,V.jsx)(u.Z,{})})]})}))},6382:function(e,r,t){t.r(r),t.d(r,{default:function(){return l}});var _=t(885),i=t(2791),a=t(1642),s=t(2753),o=t(1328),n=t(364),c=t(7258),d=t(184),u={getTourReview:c.R_},l=(0,n.$j)(null,u)((function(e){var r=e.location,t=e.match,n=e.getTourReview,c=r.pathname,u=r.search,l="/"===c[0]?c.substring(1):c,p=(0,i.useState)(null),m=(0,_.Z)(p,2),x=m[0],w=m[1];return(0,i.useEffect)((function(){if(u){var e=new URLSearchParams(u);w(e.get("date_id"))}})),(0,i.useEffect)((function(){return n(t.params.slug,x),function(){return n(t.params.slug,x,"reset")}}),[x]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(a.ZP,{children:[(0,d.jsx)("title",{children:"Traveler Market - \u041c\u0430\u0440\u043a\u0435\u0442\u043f\u043b\u0435\u0439\u0441 \u0430\u0432\u0442\u043e\u0440\u0441\u043a\u0438\u0445 \u0442\u0443\u0440\u043e\u0432"}),(0,d.jsx)("meta",{name:"description",content:""})]}),(0,d.jsx)(s.Z,{page:l,children:(0,d.jsx)(o.Z,{})})]})}))}}]);
//# sourceMappingURL=6382.c435ba8b.chunk.js.map