{"version":3,"file":"static/js/6382.a937b8c7.chunk.js","mappings":"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","sources":["webpack://your-app/./src/pages/Tour/Tour.module.css?810a","pages/Tour/TourBody.js","pages/Tour/Tour.js","pages/Tour/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"preview_wrapper\":\"Tour_preview_wrapper__hzV+e\",\"tour_body\":\"Tour_tour_body__Z9ac4\",\"preview_breadcrumbs\":\"Tour_preview_breadcrumbs__fLyKM\",\"tour_sidebar\":\"Tour_tour_sidebar__2fQeV\",\"tour_sidebar_body\":\"Tour_tour_sidebar_body__B9Tep\",\"tour_sidebar_header\":\"Tour_tour_sidebar_header__7tSSr\",\"tour_sidebar_main\":\"Tour_tour_sidebar_main__etFbR\",\"guarantied_row\":\"Tour_guarantied_row__6rff0\",\"guarantied_row_guarantied\":\"Tour_guarantied_row_guarantied__v1pQd\",\"guarantied_row_guarantied_icon\":\"Tour_guarantied_row_guarantied_icon__bfmYU\",\"guarantied_row_guarantied_text\":\"Tour_guarantied_row_guarantied_text__9nkpg\",\"price_row\":\"Tour_price_row__1d8A3\",\"price_row_total_price\":\"Tour_price_row_total_price__VMjBF\",\"price_row_total_price_total\":\"Tour_price_row_total_price_total__odbiV\",\"price_row_total_price_discounted\":\"Tour_price_row_total_price_discounted__-chgf\",\"price_row_daily_price\":\"Tour_price_row_daily_price__crhxq\",\"price_comment_row\":\"Tour_price_comment_row__RCkpQ\",\"price_comment_row_more\":\"Tour_price_comment_row_more__lTx6M\",\"duration_row\":\"Tour_duration_row__f4Z89\",\"duration_row_col\":\"Tour_duration_row_col__me4V6\",\"duration_row_icon\":\"Tour_duration_row_icon__+rNt8\",\"duration_row_text\":\"Tour_duration_row_text__ZGiQP\",\"duration_row_text_title\":\"Tour_duration_row_text_title__JrBKF\",\"duration_row_text_data\":\"Tour_duration_row_text_data__3K2zX\",\"inputs_row\":\"Tour_inputs_row__BicAy\",\"inputs_row_date_input\":\"Tour_inputs_row_date_input__punHg\",\"calendar\":\"Tour_calendar__NaPyA\",\"inputs_row_date_input_text\":\"Tour_inputs_row_date_input_text__cdHWA\",\"inputs_row_date_input_button\":\"Tour_inputs_row_date_input_button__IVgSG\",\"inputs_row_date_input_button_minus\":\"Tour_inputs_row_date_input_button_minus__Ta8JW\",\"inputs_row_button\":\"Tour_inputs_row_button__o31YK\",\"footer_row_button\":\"Tour_footer_row_button__4DtcM\",\"inputs_row_text\":\"Tour_inputs_row_text__DkJJ1\",\"inputs_row_text_heading\":\"Tour_inputs_row_text_heading__814oP\",\"inputs_row_text_text\":\"Tour_inputs_row_text_text__jKJBd\",\"tour_sidebar_footer\":\"Tour_tour_sidebar_footer__BjglX\",\"footer_row_leader\":\"Tour_footer_row_leader__K+cGy\",\"footer_row_leader_image\":\"Tour_footer_row_leader_image__xT3Zj\",\"footer_row_leader_leader\":\"Tour_footer_row_leader_leader__5-W2X\",\"footer_row_leader_name\":\"Tour_footer_row_leader_name__C3idC\",\"footer_row_leader_rating\":\"Tour_footer_row_leader_rating__218-t\",\"divider\":\"Tour_divider__LOuKv\"};","import React, {useEffect, useState} from 'react'\nimport styles from './Tour.module.css'\nimport {connect} from 'react-redux'\nimport {getTourReview} from \"../../redux/actions/toursActions\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\nimport Box from \"@mui/material/Box\";\nimport Wallpaper from \"../../components/TourPageComponents/Wallpaper/Wallpaper\";\nimport TourHeader from \"../../components/TourPageComponents/TourHeader/TourHeader\";\nimport TourLocation from \"../../components/TourPageComponents/TourLocation/TourLocation\";\nimport TourTypes from \"../../components/TourPageComponents/TourTypes/TourTypes\";\nimport TourInfoBlocks from \"../../components/TourPageComponents/TourInfoBlocks/TourInfoBlocks\";\nimport TourImpressions from \"../../components/TourPageComponents/TourImpressions/TourImpressions\";\nimport TourReview from \"../../components/TourPageComponents/TourReview/TourReview\";\nimport TourGallery from \"../../components/TourPageComponents/TourGallery/TourGallery\";\nimport TourRoute from \"../../components/TourPageComponents/TourRoute/TourRoute\";\nimport TourDays from \"../../components/TourPageComponents/TourDays/TourDays\";\nimport TourAccommodation from \"../../components/TourPageComponents/TourAccomodation/TourAccommodation\";\nimport TourIncluded from \"../../components/TourPageComponents/TourIncluded/TourIncluded\";\nimport AirTickets from \"../../components/TourPageComponents/TourRoute/AirTickets\";\nimport TourLeader from \"../../components/TourPageComponents/TourLeader/TourLeader\";\nimport TourImportantToKnow from \"../../components/TourPageComponents/TourImportantToKnow\";\nimport {Link, useHistory} from \"react-router-dom\";\nimport ok from \"../../assets/img/ok2.svg\";\nimport heart from \"../../assets/img/heart.svg\";\nimport stopwatch from \"../../assets/img/stopwatch.svg\";\nimport group from \"../../assets/img/users_group.svg\";\nimport star from \"../../components/TourPageComponents/TourLeader/star.svg\";\nimport {add_chat_room} from \"../../redux/actions/chatActions\";\nimport Expert from \"../../components/Expert\";\nimport axios from \"axios\";\nimport * as t from \"../../redux/types\";\n\nconst TourBody = ({\n                tour_preview,\n                add_chat_room,\n                isAuthenticated\n              }) => {\n\n  const history = useHistory()\n\n  const [places, setPlaces] = useState(1)\n\n\n\n  const handleExpertChat = () => {\n    add_chat_room(tour_preview.expert.id)\n    history.push(isAuthenticated ? '/account/chat' : '/login/chat')\n  }\n\n  const handleBook = async () => {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `JWT ${localStorage.getItem('access')}`,\n        Accept: 'application/json',\n      },\n    }\n    const body = JSON.stringify({travelers_number: places, tour: tour_preview.id})\n    try {\n      const res = await axios.post(`${process.env.REACT_APP_API_URL}/api/orders/`, body, config)\n      if(res){\n        history.push(`/account/orders/${res.data.id}/payment`)\n      }\n    } catch (err) {\n      console.error(err)\n    }\n  }\n\n  const handleAdd = () => {\n    if (places < tour_preview.vacants_number) {\n      setPlaces(places + 1)\n    }\n  }\n\n  const handleSubtract = () => {\n    if (places > 1) {\n      setPlaces(places - 1)\n    }\n  }\n\n  const PriceComment = () => {\n    const [showMore, setShowMore] = useState(false)\n\n    return (\n      tour_preview && tour_preview.price_comment && tour_preview.price_comment && (\n        <>\n          {tour_preview && tour_preview.price_comment && tour_preview.price_comment.length <= 23\n            ?\n            (<div>\n              {tour_preview.price_comment}\n            </div>)\n            :\n            (\n              <>\n                {showMore\n                  ?\n                  <div>\n                    {tour_preview.price_comment + ' '}\n                    <div className={styles.price_comment_row_more} onClick={() => setShowMore(false)}>\n                      {' '}скрыть\n                    </div>\n                  </div>\n                  :\n                  <div>\n                    {tour_preview.price_comment.slice(0, 23) + ' '}\n                    <div className={styles.price_comment_row_more} onClick={() => setShowMore(true)}>\n                      {' '}подробнее...\n                    </div>\n                  </div>\n                }\n              </>\n            )\n          }\n        </>\n      )\n    )\n  }\n\n  return (\n    <>\n      {tour_preview && (\n        <>\n          {tour_preview.wallpaper && <Wallpaper image={tour_preview.wallpaper}/>}\n          <div className=\"wrapper\">\n            <div className={styles.preview_wrapper}>\n              <div className={styles.tour_body}>\n                <div className={styles.preview_breadcrumbs}>\n                  <Link to={'/'}>Главная</Link> -\n                  <Link to={'/tours'}>Путешествия</Link> -\n                  <span>Просмотр тура</span>\n                </div>\n                {tour_preview.name &&\n                  < TourHeader\n                    title={tour_preview.name}\n                    rating={tour_preview.rating}\n                    reviews={tour_preview.reviews_count}\n                  />}\n                {tour_preview.start_country && <TourLocation\n                  country={tour_preview.start_country}\n                  region={tour_preview.start_russian_region ? tour_preview.start_russian_region : tour_preview.start_city}\n                />}\n                {tour_preview.basic_type && <TourTypes\n                  main_type={tour_preview.basic_type}\n                  extra_types={tour_preview.additional_types}\n                />}\n                <TourInfoBlocks\n                  comfort={tour_preview.comfort_level} difficulty={tour_preview.difficulty_level}\n                  language={tour_preview.languages}\n                  age={tour_preview.age_starts + '-' + tour_preview.age_ends}\n                />\n                <div className={styles.divider}/>\n                {tour_preview.main_impressions && tour_preview.main_impressions.length > 0 && <TourImpressions impressions={tour_preview.main_impressions}/>}\n                {((tour_preview.plan && tour_preview.plan.length > 0) || tour_preview.media_link) && <TourReview text={tour_preview.description} activities={tour_preview.plan} video={tour_preview && tour_preview.media_link ? tour_preview.media_link : ''}/>}\n                {tour_preview.tour_images && tour_preview.tour_images.length > 0 && <TourGallery gallery={tour_preview.tour_images}/>}\n                {tour_preview.start_date && tour_preview.start_city && <TourRoute\n                  ya_map={tour_preview && tour_preview.map}\n                  start_date={tour_preview && tour_preview.start_date}\n                  start_city={tour_preview && tour_preview.start_city}\n                  start_time={tour_preview && tour_preview.start_time}\n                  finish_date={tour_preview && tour_preview.finish_date}\n                  finish_city={tour_preview && tour_preview.finish_city}\n                  finish_time={tour_preview && tour_preview.finish_time}\n                />}\n                {Array.isArray(tour_preview.tour_days) &&\n                  <TourDays days={tour_preview && tour_preview.tour_days}/>\n                }\n                {(Array.isArray(tour_preview.tour_property_types) || Array.isArray(tour_preview.tour_property_images)) && <TourAccommodation\n                  property_types={tour_preview.tour_property_types}\n                  images={tour_preview.tour_property_images}\n                />}\n                {((tour_preview.tour_included_services && tour_preview.tour_included_services.length > 0) || (tour_preview.tour_excluded_services && tour_preview.tour_excluded_services.length > 0)) &&\n                  <TourIncluded inclusions={tour_preview.tour_included_services}\n                                exclusions={tour_preview.tour_excluded_services}/>}\n                {tour_preview.air_tickets &&\n                  <AirTickets\n                    start_date={tour_preview && tour_preview.start_date}\n                    start_city={tour_preview && tour_preview.start_city}\n                    start_time={tour_preview && tour_preview.start_time}\n                    finish_date={tour_preview && tour_preview.finish_date}\n                    finish_city={tour_preview && tour_preview.finish_city}\n                    finish_time={tour_preview && tour_preview.finish_time}\n                    text={tour_preview && tour_preview.air_tickets}\n                  />\n                }\n\n                {tour_preview.tour_addetional_services &&\n                  <>\n                    <h3>Дополнительные услуги</h3>\n                    <div style={{marginTop: '20px'}}>\n                      {tour_preview && tour_preview.tour_addetional_services && tour_preview.tour_addetional_services.map((item, index) => (\n                        <div key={index} style={{marginBottom: '10px'}} dangerouslySetInnerHTML={{__html: `${item.extra_text} ${item.extra_service_price ? ' - ' + item.extra_service_price + tour_preview.currency.sign : ''}`}}/>\n                      ))}\n                    </div>\n                  </>\n                }\n\n                {(tour_preview.guest_requirements || tour_preview.take_with || tour_preview.key_features || tour_preview.new_to_see) && <TourImportantToKnow\n                  guest_requirements={tour_preview.guest_requirements}\n                  take_with={tour_preview.take_with}\n                  key_features={tour_preview.key_features}\n                  new_to_see={tour_preview.new_to_see}\n                />}\n\n                {tour_preview.team_member && <TourLeader\n                  leader={tour_preview.team_member}\n                  action={handleExpertChat}\n                />\n                }\n\n              </div>\n\n              <div\n                className={styles.tour_sidebar_body}\n                // ref={stickyRef}\n                style={{position: 'sticky', top: '30px'}}\n              >\n                <div className={styles.tour_sidebar_header}>\n                  <Link to='/register'>\n                    Зарегистрируйтесь!\n                  </Link>\n                  <span>\n                    И начните путешествовать по новому!\n                    </span>\n                </div>\n\n                <div className={styles.tour_sidebar_main}>\n                  <div className={styles.guarantied_row}>\n                    <div className={styles.guarantied_row_guarantied}>\n                      <div className={styles.guarantied_row_guarantied_icon}>\n                        <img src={ok} alt=\"Ok\"/>\n                      </div>\n                      <div className={styles.guarantied_row_guarantied_text}>\n                        Тур проверен\n                        {' '}\n                        {tour_preview.is_guaranteed ? 'и гарантирован' : ''}\n                      </div>\n                    </div>\n                    <div className={styles.guarantied_row_guarantied_favourite}>\n                      <img src={heart} alt=\"heart\"/>\n                    </div>\n                  </div>\n                  {tour_preview.price && <div className={styles.price_row}>\n                    {tour_preview && tour_preview.price && <div className={styles.price_row_total_price}>\n                      {tour_preview && tour_preview.discounted_price &&\n                        <div className={styles.price_row_total_price_total}>\n                          {tour_preview && tour_preview.price && tour_preview.price.toLocaleString('ru')}\n                          {' '}\n                          <span className='rub-sign'>₽</span>\n                        </div>}\n                      <div className={styles.price_row_total_price_discounted}>\n                        {(tour_preview && tour_preview.discounted_price ? tour_preview.discounted_price : tour_preview.price).toLocaleString('ru')}\n                        {' '}\n                        <span className='rub-sign'>₽</span>\n                      </div>\n                    </div>}\n                    {tour_preview && tour_preview.daily_price && <div className={styles.price_row_daily_price}>\n                      {'в день'}\n                      {' '}\n                      {tour_preview && tour_preview.daily_price && (tour_preview.daily_price * places).toLocaleString('ru')}\n                      {' '}\n                      <span className='rub-sign'>₽</span>\n                    </div>}\n                  </div>}\n                  <div className={styles.price_comment_row}>\n                    <PriceComment/>\n                  </div>\n\n                  {(tour_preview.duration || tour_preview.vacants_number || tour_preview.members_number) && <div className={styles.duration_row}>\n                    <div className={styles.duration_row_col}>\n                      <div className={styles.duration_row_icon}>\n                        <img src={stopwatch} alt=\"stopwatch\"/>\n                      </div>\n                      <div className={styles.duration_row_text}>\n                        <div className={styles.duration_row_text_title}>\n                          Длительность:\n                        </div>\n                        <div className={styles.duration_row_text_data}>\n                          {tour_preview.duration}\n                          {' '}\n                          дней\n                        </div>\n                      </div>\n\n                    </div>\n                    <div className={styles.duration_row_col}>\n                      <div className={styles.duration_row_icon}>\n                        <img src={group} alt=\"group\"/>\n                      </div>\n                      <div className={styles.duration_row_text}>\n                        <div className={styles.duration_row_text_title}>\n                          Свободно мест:\n                        </div>\n                        <div className={styles.duration_row_text_data}>\n                          {tour_preview.vacants_number}\n                          {' '}\n                          из\n                          {' '}\n                          {tour_preview.members_number}\n                        </div>\n                      </div>\n\n                    </div>\n\n                  </div>}\n\n                  <div className={styles.inputs_row}>\n                    {/*<div className={styles.inputs_row_date_input + ' ' + styles.calendar}>*/}\n                    {/*  <img src={calendar} alt=\"calendar\"/>*/}\n                    {/*  <div className={styles.inputs_row_date_input_text}>Выберите дату</div>*/}\n                    {/*  <img src={chevron_down} alt=\"chevron_down\"/>*/}\n                    {/*</div>*/}\n                    <div className={styles.inputs_row_date_input}>\n                      <div className={styles.inputs_row_date_input_button_minus} onClick={handleSubtract}>\n                        —\n                      </div>\n                      <div className={styles.inputs_row_date_input_text}>\n                        Мест:\n                        {' '}\n                        {places}\n                      </div>\n                      <div className={styles.inputs_row_date_input_button} onClick={handleAdd}>\n                        +\n                      </div>\n                    </div>\n                  </div>\n                  <div className={styles.inputs_row_button} onClick={handleBook}>\n                    {tour_preview.is_guaranteed ? 'Забронировать' : 'Хочу поехать'}\n                  </div>\n\n                  <div className={styles.inputs_row_text}>\n                    {tour_preview && tour_preview.book_price && <div className={styles.inputs_row_text_heading}>\n                      Для бронирования тура\n                      достаточно {tour_preview && tour_preview.book_price && (tour_preview.book_price * places).toLocaleString('ru')}\n                      <span className='rub-sign'>₽</span>\n                    </div>}\n                    <div className={styles.inputs_row_text_text}>\n                      При отмене бронирования любого путешествия в течение 24 часов после оплаты вы получаете полный\n                      возврат.\n                    </div>\n                  </div>\n\n\n                </div>\n\n                <div className={styles.tour_sidebar_footer}>\n                  {tour_preview.expert && <div className={styles.footer_row_leader}>\n                    <Expert\n                      reviews={tour_preview.expert.tour_reviews_count}\n                      name={tour_preview.expert.first_name}\n                      rating={tour_preview.expert.rating}\n                      id={tour_preview.expert.id}\n                      avatar={tour_preview.expert.tmb_avatar}\n                      extra={', Автор туров'}\n                    />\n                    {/*<div className={styles.footer_row_leader_image}*/}\n                    {/*     style={{backgroundImage: 'url(' + tour_preview.expert.tmb_avatar}}/>*/}\n                    {/*<div className={styles.footer_row_leader_leader}>*/}\n                    {/*  <div className={styles.footer_row_leader_name}>*/}\n                    {/*    <span>{tour_preview.expert.first_name}</span>, Автор туров*/}\n                    {/*  </div>*/}\n                    {/*  <div className={styles.footer_row_leader_rating}>*/}\n                    {/*    <img src={star} alt=\"star\"/>*/}\n                    {/*    {tour_preview.expert.rating}*/}\n                    {/*    <span> (201)</span>*/}\n                    {/*  </div>*/}\n                    {/*</div>*/}\n                  </div>}\n\n                  <div className={styles.footer_row_button} onClick={handleExpertChat}>\n                    Написать автору тура\n                  </div>\n\n                </div>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n      {!tour_preview && (\n        <Box sx={{display: 'flex', width: '100%', justifyContent: 'center', alignItems: 'center', height: '300px'}}>\n          <CircularProgress/>\n        </Box>\n      )}\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  tour_preview: state.tours.tour_preview,\n  isAuthenticated: state.auth.isAuthenticated,\n})\n\nconst mapDispatchToProps = {getTourReview, add_chat_room}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TourBody)","import React, {useEffect, useState} from 'react'\nimport MetaTags from \"react-meta-tags\";\nimport MainLayout from \"../../layouts/MainLayout\";\nimport TourBody from \"./TourBody\";\nimport {connect} from \"react-redux\";\nimport {getTourReview} from \"../../redux/actions/toursActions\";\n\nconst Tour = ({\n                location,\n                match,\n                getTourReview,\n}) => {\n\n  const {pathname, search} = location\n  const page = pathname[0] === '/' ? pathname.substring(1) : pathname\n\n  const [id, setId] = useState(null)\n\n  useEffect(() => {\n    if(search) {\n      const query = new URLSearchParams(search);\n      setId(query.get('date_id'))\n    }\n  })\n\n  useEffect(() => {\n    getTourReview(match.params.slug, id)\n    return () => getTourReview(match.params.slug, id, 'reset')\n  }, [id])\n\n\n\n\n\n  return (\n    <>\n      <MetaTags>\n        <title>Traveler Market - Маркетплейс авторских туров</title>\n        <meta name='description' content='' />\n      </MetaTags>\n      <MainLayout page={page}>\n        <TourBody/>\n      </MainLayout>\n    </>\n  )\n}\n\nconst mapDispatchToProps = {getTourReview,}\n\nexport default connect(null, mapDispatchToProps)(Tour)","import Tour from './Tour'\n\nexport default Tour"],"names":["mapDispatchToProps","getTourReview","add_chat_room","connect","state","tour_preview","tours","isAuthenticated","auth","history","useHistory","useState","places","setPlaces","handleExpertChat","expert","id","push","handleBook","config","headers","Authorization","localStorage","getItem","Accept","body","JSON","stringify","travelers_number","tour","axios","process","res","data","console","error","PriceComment","showMore","setShowMore","price_comment","length","className","styles","onClick","slice","wallpaper","Wallpaper","image","to","name","TourHeader","title","rating","reviews","reviews_count","start_country","TourLocation","country","region","start_russian_region","start_city","basic_type","TourTypes","main_type","extra_types","additional_types","TourInfoBlocks","comfort","comfort_level","difficulty","difficulty_level","language","languages","age","age_starts","age_ends","main_impressions","TourImpressions","impressions","plan","media_link","TourReview","text","description","activities","video","tour_images","TourGallery","gallery","start_date","TourRoute","ya_map","map","start_time","finish_date","finish_city","finish_time","Array","isArray","tour_days","TourDays","days","tour_property_types","tour_property_images","TourAccommodation","property_types","images","tour_included_services","tour_excluded_services","TourIncluded","inclusions","exclusions","air_tickets","AirTickets","tour_addetional_services","style","marginTop","item","index","marginBottom","dangerouslySetInnerHTML","__html","extra_text","extra_service_price","currency","sign","guest_requirements","take_with","key_features","new_to_see","TourImportantToKnow","team_member","TourLeader","leader","action","position","top","src","ok","alt","is_guaranteed","heart","price","discounted_price","toLocaleString","daily_price","duration","vacants_number","members_number","stopwatch","group","book_price","Expert","tour_reviews_count","first_name","avatar","tmb_avatar","extra","Box","sx","display","width","justifyContent","alignItems","height","CircularProgress","location","match","pathname","search","page","substring","setId","useEffect","query","URLSearchParams","get","params","slug","content","MainLayout","TourBody"],"sourceRoot":""}